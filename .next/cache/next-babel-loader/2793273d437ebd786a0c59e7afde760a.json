{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport ReactTooltip from \"react-tooltip\";\nimport classNames from \"classnames\";\nimport Rate from \"../Other/Rate\";\nimport Button from \"../Control/Button\";\nimport Modal from \"../Control/Modal\";\nimport ProductQuickView from \"../ProductDetail/ProductQuickView\";\nimport { formatCurrency } from \"../../common/utils\";\nimport { checkProductInWishList, checkProductInCart } from \"../../common/shopUtils\";\nimport { addToCart } from \"../../redux/actions/cartActions\";\nimport { addToWishlist, removeFromWishlist } from \"../../redux/actions/wishlistActions\";\nimport AddToCart from \"../Control/AddToCart\";\n\nfunction Product({\n  data,\n  type,\n  className\n}) {\n  const dispatch = useDispatch();\n  const cartState = useSelector(state => state.cartReducer);\n  const wishlistData = useSelector(state => state.wishlistReducer);\n  const {\n    0: showQuickView,\n    1: setShowQuickView\n  } = useState(false);\n  const {\n    0: otherColor,\n    1: setOtherColor\n  } = useState();\n  const percentDiscount = data.discount ? Math.ceil(100 - 100 * data.discount / data.price) : null;\n\n  function renderType() {\n    if (data.new) {\n      return __jsx(\"h5\", {\n        className: \"-new\"\n      }, \"New\");\n    }\n\n    if (data.discount && typeof data.discount === \"number\") {\n      return __jsx(\"h5\", {\n        className: \"-sale\"\n      }, \"-\", percentDiscount, \"%\");\n    }\n\n    return null;\n  }\n\n  const addToCartHandle = e => {\n    e.preventDefault();\n    let productItem = checkProductInCart(cartState, data.id);\n\n    if (!productItem && data.quantity > 0) {\n      dispatch(addToCart(data, 1, otherColor && otherColor.color));\n      return toast.success(\"Product added to cart !\");\n    }\n  };\n\n  const addToWishlistHandle = e => {\n    e.preventDefault();\n    const wishlistItem = checkProductInWishList(wishlistData, data.id);\n    dispatch(addToWishlist(data));\n    toast.dismiss();\n\n    if (!wishlistItem) {\n      return toast.success(\"Product added to wishlist !\");\n    } else {\n      return toast.error(\"Product removed from wishlist !\");\n    }\n  };\n\n  return __jsx(React.Fragment, null, !type || type === \"grid\" ? __jsx(\"div\", {\n    className: `product ${classNames(className)}`\n  }, __jsx(\"div\", {\n    className: \"product-type\"\n  }, renderType()), __jsx(\"div\", {\n    className: \"product__thumb\"\n  }, __jsx(Link, {\n    href: \"#\",\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`\n  }, __jsx(\"a\", {\n    className: \"product__thumb__image\"\n  }, data.thumbImage.map((img, index) => __jsx(\"img\", {\n    key: index,\n    src: process.env.PUBLIC_URL + img,\n    alt: \"Product image\"\n  })), otherColor && __jsx(\"img\", {\n    src: otherColor.image,\n    alt: \"Product image\"\n  }))), __jsx(\"div\", {\n    className: \"product__thumb__actions\"\n  }, __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"cartIcon\"\n  }, __jsx(Button, {\n    height: \"50px\",\n    width: \"50px\",\n    color: \"white\",\n    className: `product__actions__item -round ${classNames({\n      \"active -disable\": checkProductInCart(cartState, data.id) || data.quantity < 1\n    })}\n                  `,\n    action: \"#\",\n    onClick: addToCartHandle,\n    content: __jsx(\"i\", {\n      className: \"fas fa-shopping-bag\"\n    })\n  })), __jsx(ReactTooltip, {\n    id: \"cartIcon\",\n    type: \"dark\",\n    effect: \"solid\"\n  }, __jsx(\"span\", null, \"Add to Cart\")), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"qvIcon\"\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: \"product__actions__item -round\",\n    action: \"#\",\n    onClick: e => {\n      e.preventDefault();\n      setShowQuickView(true);\n    },\n    content: __jsx(\"i\", {\n      className: \"fas fa-eye\"\n    })\n  })), __jsx(ReactTooltip, {\n    id: \"qvIcon\",\n    type: \"dark\",\n    effect: \"solid\"\n  }, __jsx(\"span\", null, \"Quick view\")), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"wlIcon\"\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: `product__actions__item -round ${classNames({\n      active: checkProductInWishList(wishlistData, data.id)\n    })}`,\n    action: \"#\",\n    onClick: addToWishlistHandle,\n    content: __jsx(\"i\", {\n      className: \"fas fa-heart\"\n    })\n  })), __jsx(ReactTooltip, {\n    id: \"wlIcon\",\n    type: \"dark\",\n    effect: \"solid\"\n  }, __jsx(\"span\", null, \"Add to Wishlist\")))), __jsx(\"div\", {\n    className: \"product__content\"\n  }, __jsx(\"div\", {\n    className: \"product__content__header\"\n  }, __jsx(\"h5\", {\n    className: \"product-category\"\n  }, data.category), __jsx(Rate, {\n    currentRate: data.rate\n  })), __jsx(Link, {\n    href: \"#\",\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`\n  }, __jsx(\"a\", {\n    className: \"product-name\"\n  }, data.name)), __jsx(\"div\", {\n    className: \"product__content__footer\"\n  }, __jsx(\"h5\", {\n    className: \"product-price--main\"\n  }, data.discount ? formatCurrency(data.discount) : formatCurrency(data.price)), data.discount && __jsx(\"h5\", {\n    className: \"product-price--discount\"\n  }, formatCurrency(data.price)), data.variation && __jsx(\"div\", {\n    className: \"product-colors\"\n  }, data.variation.map((color, index) => __jsx(\"div\", {\n    key: index,\n    className: `product-colors__item ${classNames({\n      active: otherColor && otherColor.colorCode === color.colorCode\n    })}`,\n    style: {\n      backgroundColor: color.colorCode\n    },\n    onClick: () => setOtherColor(color)\n  })))))) : __jsx(\"div\", {\n    className: `product-list ${classNames(className)}`\n  }, __jsx(\"div\", {\n    className: \"product-list__thumb\"\n  }, __jsx(\"div\", {\n    className: \"product-type\"\n  }, renderType()), __jsx(Link, {\n    href: \"#\",\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`\n  }, __jsx(\"a\", {\n    className: \"product-list__thumb__image\"\n  }, data.thumbImage.map((img, index) => __jsx(\"img\", {\n    key: index,\n    src: process.env.PUBLIC_URL + img,\n    alt: \"Product image\"\n  })), otherColor && __jsx(\"img\", {\n    src: otherColor.image,\n    alt: \"Product image\"\n  })))), __jsx(\"div\", {\n    className: \"product-list__content\"\n  }, __jsx(\"div\", {\n    className: \"product-list__content__top\"\n  }, __jsx(\"div\", {\n    className: \"product-category__wrapper\"\n  }, __jsx(\"h5\", {\n    className: \"product-category\"\n  }, data.category), __jsx(Rate, {\n    currentRate: data.rate\n  })), __jsx(Link, {\n    href: \"#\",\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`\n  }, __jsx(\"a\", {\n    className: \"product-name\"\n  }, data.name)), __jsx(\"div\", {\n    className: \"product__price\"\n  }, __jsx(\"div\", {\n    className: \"product__price__wrapper\"\n  }, __jsx(\"h5\", {\n    className: \"product-price--main\"\n  }, data.discount ? formatCurrency(data.discount) : formatCurrency(data.price)), data.discount && __jsx(\"h5\", {\n    className: \"product-price--discount\"\n  }, formatCurrency(data.price))), data.variation && __jsx(\"div\", {\n    className: \"product-colors\"\n  }, data.variation.map((color, index) => __jsx(\"div\", {\n    key: index,\n    className: `product-colors__item ${otherColor && otherColor.colorCode === color.colorCode ? \"active\" : \"\"}`,\n    style: {\n      backgroundColor: color.colorCode\n    },\n    onClick: () => setOtherColor(color)\n  }))))), __jsx(\"div\", {\n    className: \"product-list__content__bottom\"\n  }, __jsx(\"p\", {\n    className: \"product-description\"\n  }, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ipsa fugiat accusantium reiciendis rem doloribus iste doloremque\"), __jsx(\"div\", {\n    className: \"product__actions\"\n  }, __jsx(\"div\", {\n    className: \"product-btn\"\n  }, __jsx(AddToCart, {\n    onClick: addToCartHandle,\n    className: classNames({\n      \"-disable\": checkProductInCart(cartState, data.id) || data.quantity < 1\n    })\n  })), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"l-qvIcon\"\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: \"product__actions__item -round\",\n    action: \"#\",\n    onClick: e => {\n      e.preventDefault();\n      setShowQuickView(true);\n    },\n    content: __jsx(\"i\", {\n      className: \"fas fa-eye\"\n    })\n  })), __jsx(ReactTooltip, {\n    id: \"l-qvIcon\",\n    type: \"dark\",\n    effect: \"solid\"\n  }, __jsx(\"span\", null, \"Quick view\")), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"l-wlIcon\",\n    style: {\n      marginRight: 0\n    }\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: `product__actions__item -round ${classNames({\n      active: checkProductInWishList(wishlistData, data.id)\n    })}`,\n    action: \"#\",\n    onClick: addToWishlistHandle,\n    content: __jsx(\"i\", {\n      className: \"fas fa-heart\"\n    })\n  })), __jsx(ReactTooltip, {\n    id: \"l-wlIcon\",\n    type: \"dark\",\n    effect: \"solid\"\n  }, __jsx(\"span\", null, \"Add to Wishlist\")))))));\n}\n\nexport default Product;","map":null,"metadata":{},"sourceType":"module"}