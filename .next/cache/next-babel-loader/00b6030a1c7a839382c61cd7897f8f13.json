{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport classNames from \"classnames\";\nimport { formatCurrency } from \"../../../common/utils\";\nimport { addToCart } from \"../../../redux/actions/cartActions\";\nimport { addToWishlist } from \"../../../redux/actions/wishlistActions\";\nimport ProductDetailController from \"./ProductDetailController\";\nimport ProductDetailInfoTab from \"./ProductDetailInfoTab\";\nimport Rate from \"../../Other/Rate\";\nimport { checkProductInWishList } from \"../../../common/shopUtils\";\nexport default function ProductDetailInfo({\n  data,\n  onReviewSubmit,\n  hideTab\n}) {\n  const dispatch = useDispatch();\n  const wishlistState = useSelector(state => state.wishlistReducer);\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState();\n  const {\n    0: otherColor,\n    1: setOtherColor\n  } = useState();\n\n  const getQuantity = q => {\n    setQuantity(q);\n  };\n\n  const onAddToCart = e => {\n    e.preventDefault();\n    dispatch(addToCart(data, quantity, otherColor));\n    toast.success(\"Product added to cart\");\n  };\n\n  const onAddToWishList = e => {\n    e.preventDefault();\n    let product = checkProductInWishList(wishlistState, data.id);\n    dispatch(addToWishlist(data));\n    toast.dismiss();\n\n    if (!product) {\n      return toast.success(\"Product added to wishlist !\");\n    } else {\n      return toast.error(\"Product removed from wishlist !\");\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"product-detail__content\"\n  }, __jsx(\"div\", {\n    className: \"product-detail__content__header\"\n  }, __jsx(\"h5\", null, data.category), __jsx(\"h2\", null, data.name), __jsx(\"div\", {\n    className: \"product-detail__content__header__comment-block\"\n  }, __jsx(Rate, {\n    currentRate: data.rate\n  }), __jsx(\"p\", null, \"03 Reviews\"), __jsx(Link, {\n    href: process.env.PUBLUC_URL + \"#\"\n  }, __jsx(\"a\", null, \"Write a reviews\"))), __jsx(\"h3\", null, data.discount ? formatCurrency(data.discount) : formatCurrency(data.price), data.discount && __jsx(\"span\", null, formatCurrency(data.price)))), __jsx(\"div\", {\n    className: \"divider\"\n  }), __jsx(\"div\", {\n    className: \"product-detail__content__footer\"\n  }, __jsx(\"ul\", null, __jsx(\"li\", null, \"Brand: \", __jsx(\"span\", null, data.brand)), __jsx(\"li\", null, \"Product code: \", __jsx(\"span\", null, data.code)), __jsx(\"li\", null, \"Reward point: \", __jsx(\"span\", null, data.point)), __jsx(\"li\", null, \"Availability:\", data.quantity > 0 ? __jsx(\"span\", {\n    className: \"in-stock\"\n  }, \" In Stock\") : __jsx(\"span\", {\n    className: \"out-stock\"\n  }, \" Out Stock\"))), data.variation && __jsx(\"div\", {\n    className: \"product-detail__colors\"\n  }, __jsx(\"span\", null, \"Color:\"), data.variation.map((color, index) => __jsx(\"div\", {\n    key: index,\n    className: `product-detail__colors__item ${classNames({\n      active: otherColor === color.color\n    })}`,\n    style: {\n      backgroundColor: color.colorCode\n    },\n    onClick: () => setOtherColor(color.color)\n  }))), __jsx(ProductDetailController, {\n    data: data,\n    getQuantity: getQuantity,\n    onAddToCart: onAddToCart,\n    onAddToWishList: onAddToWishList,\n    color: otherColor\n  })), !hideTab && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"divider\"\n  }), __jsx(\"div\", {\n    className: \"product-detail__content__tab\"\n  }, __jsx(ProductDetailInfoTab, {\n    onReviewSubmit: onReviewSubmit\n  }))));\n}","map":null,"metadata":{},"sourceType":"module"}