{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Link from \"next/link\";\nimport { useForm } from \"react-hook-form\";\nimport { toast } from \"react-toastify\";\nimport LayoutFour from \"../../components/Layout/LayoutFour\";\nimport Quantity from \"../../components/Control/Quantity\";\nimport Button from \"../../components/Control/Button\";\nimport { Breadcrumb, BreadcrumbItem } from \"../../components/Other/Breadcrumb\";\nimport { formatCurrency } from \"../../common/utils\";\nimport { calculateTotalPrice } from \"../../common/shopUtils\";\nimport { removeFromCart, removeAllFromCart, increaseQuantityCart, decreaseQuantityCart } from \"../../redux/actions/cartActions\";\nimport InstagramTwo from \"../../components/Sections/Instagram/InstagramTwo\";\nexport default function () {\n  const dispatch = useDispatch();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm();\n  const cartState = useSelector(state => state.cartReducer);\n\n  const onSubmit = data => console.log(data);\n\n  const removeAllProduct = e => {\n    e.preventDefault();\n    dispatch(removeAllFromCart());\n    return toast.error(\"All product removed from cart\");\n  };\n\n  const removeProduct = (e, cartId) => {\n    e.preventDefault();\n    dispatch(removeFromCart(cartId));\n    return toast.error(\"Product removed from cart\");\n  };\n\n  return __jsx(LayoutFour, {\n    title: \"Cart\"\n  }, __jsx(Breadcrumb, {\n    title: \"Shopping cart\"\n  }, __jsx(BreadcrumbItem, {\n    name: \"Home\"\n  }), __jsx(BreadcrumbItem, {\n    name: \"Shop\"\n  }), __jsx(BreadcrumbItem, {\n    name: \"Shopping cart\",\n    current: true\n  })), __jsx(\"div\", {\n    className: \"cart\"\n  }, __jsx(\"div\", {\n    className: \"container\"\n  }, !cartState || cartState.length === 0 ? __jsx(\"div\", {\n    className: \"cart__empty\"\n  }, __jsx(\"h3\", null, \"No product in cart\"), __jsx(Button, {\n    color: \"dark\",\n    action: process.env.PUBLIC_URL + \"/shop/fullwidth-4col\",\n    content: \"Shopping now\"\n  })) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"cart__table\"\n  }, __jsx(\"div\", {\n    className: \"cart__table__wrapper\"\n  }, __jsx(\"table\", null, __jsx(\"colgroup\", null, __jsx(\"col\", {\n    style: {\n      width: \"40%\"\n    }\n  }), __jsx(\"col\", {\n    style: {\n      width: \"17%\"\n    }\n  }), __jsx(\"col\", {\n    style: {\n      width: \"17%\"\n    }\n  }), __jsx(\"col\", {\n    style: {\n      width: \"17%\"\n    }\n  }), __jsx(\"col\", {\n    style: {\n      width: \"9%\"\n    }\n  })), __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Product\"), __jsx(\"th\", null, \"Price\"), __jsx(\"th\", null, \"Quantity\"), __jsx(\"th\", null, \"Total\"), __jsx(\"th\", null))), __jsx(\"tbody\", null, cartState.map((item, index) => __jsx(\"tr\", {\n    key: index\n  }, __jsx(\"td\", null, __jsx(\"div\", {\n    className: \"cart-product\"\n  }, __jsx(\"div\", {\n    className: \"cart-product__image\"\n  }, __jsx(\"img\", {\n    src: item.thumbImage[0],\n    alt: item.name\n  })), __jsx(\"div\", {\n    className: \"cart-product__content\"\n  }, __jsx(\"h5\", null, item.category), __jsx(Link, {\n    href: process.env.PUBLIC_URL + \"/shop/product/[slug]\",\n    as: process.env.PUBLIC_URL + \"/shop/product/\" + item.slug\n  }, __jsx(\"a\", null, item.name))))), __jsx(\"td\", null, formatCurrency(item.price)), __jsx(\"td\", null, __jsx(Quantity, {\n    defaultQuantity: item.cartQuantity,\n    onIncrease: () => dispatch(increaseQuantityCart(item.cartId)),\n    onDecrease: () => dispatch(decreaseQuantityCart(item.cartId))\n  })), __jsx(\"td\", null, formatCurrency(item.price * item.cartQuantity)), __jsx(\"td\", null, __jsx(\"a\", {\n    href: process.env.PUBLIC_URL + \"#\",\n    onClick: e => removeProduct(e, item.cartId)\n  }, __jsx(\"i\", {\n    className: \"fal fa-times\"\n  })))))))), __jsx(\"div\", {\n    className: \"cart__table__footer\"\n  }, __jsx(Link, {\n    href: process.env.PUBLIC_URL + \"/shop/fullwidth-4col\"\n  }, __jsx(\"a\", null, __jsx(\"i\", {\n    className: \"fal fa-long-arrow-left\"\n  }), \"Continue Shopping\")), __jsx(Link, {\n    href: \"#\"\n  }, __jsx(\"a\", {\n    onClick: e => removeAllProduct(e)\n  }, __jsx(\"i\", {\n    className: \"fal fa-trash\"\n  }), \"Clear Shopping Cart\")))), __jsx(\"div\", {\n    className: \"cart__total\"\n  }, __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-12 col-md-8\"\n  }, __jsx(\"div\", {\n    className: \"cart__total__discount\"\n  }, __jsx(\"p\", null, \"Enter coupon code. It will be applied at checkout.\"), __jsx(\"div\", {\n    className: \"input-validator\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"discountCode\",\n    placeholder: \"Your code here\",\n    ref: register({\n      required: true\n    })\n  }), __jsx(\"button\", {\n    className: \"btn -dark\"\n  }, \"Apply\")), errors.discountCode && __jsx(\"span\", {\n    className: \"input-error\"\n  }, \"Please provide a discount code\")))), __jsx(\"div\", {\n    className: \"col-12 col-md-4\"\n  }, __jsx(\"div\", {\n    className: \"cart__total__content\"\n  }, __jsx(\"h3\", null, \"Cart Total\"), __jsx(\"table\", null, __jsx(\"tbody\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Subtotal\"), __jsx(\"td\", null, calculateTotalPrice(cartState, true))), __jsx(\"tr\", null, __jsx(\"th\", null, \"Total\"), __jsx(\"td\", {\n    className: \"final-price\"\n  }, calculateTotalPrice(cartState, true))))), __jsx(Button, {\n    height: 45 / 14 + \"em\",\n    width: \"100%\",\n    action: process.env.PUBLIC_URL + \"/shop/checkout\",\n    color: \"dark\",\n    content: \"Proceed to checkout\"\n  })))))))), __jsx(InstagramTwo, null));\n}","map":null,"metadata":{},"sourceType":"module"}